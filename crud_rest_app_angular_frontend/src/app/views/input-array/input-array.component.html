<form [formGroup]="exerciseForm" (ngSubmit)="onSubmit()">
  <!-- <label for="">Exercise Type</label>
  <input
    type="text"
    placeholder="Execise Type"
    formControlName="exerciseType"
    required
    maxlength="10"
  />
  &nbsp;&nbsp; -->
  <div class="exercise-select-row">
    <div class="select-stack">
      <div class="select-title">Exercise Type</div>
      <select
        class="select-input"
        formControlName="exerciseType"
        required
        (change)="populateExerciseSelect($event)"
      >
        <option
          *ngFor="let type of exerciseTypesDropDown"
          [value]="type | lowercase"
        >
          {{ type }}
        </option>
      </select>
    </div>
    <!-- &nbsp;&nbsp; -->
    <div class="select-stack">
      <div class="select-title" *ngIf="this.exerciseForm.value.exerciseType">
        Exercise
      </div>
      <select
        class="select-input"
        *ngIf="this.exerciseForm.value.exerciseType"
        formControlName="exercise"
        required
        (change)="populateBodyWeightVariationSelect($event)"
      >
        <option
          *ngFor="let exercise of exerciseTypeSelected"
          [value]="exercise | lowercase"
        >
          {{ exercise }}
        </option>
      </select>
    </div>
    <!-- &nbsp;&nbsp; -->
    <div class="select-stack">
      <div
        class="select-title"
        for=""
        *ngIf="
          this.exerciseForm.value.exercise &&
          this.exerciseForm.value.exerciseType === 'bodyweight'
        "
      >
        Variation
      </div>
      <select
        class="select-input"
        *ngIf="
          this.exerciseForm.value.exercise &&
          this.exerciseForm.value.exerciseType === 'bodyweight'
        "
        formControlName="bodyweightVariation"
        required
        (change)="activateAddSet($event)"
      >
        <option
          *ngFor="let variation of bodyweightVariationSelected"
          [value]="variation | lowercase"
        >
          {{ variation }}
        </option>
      </select>
    </div>
    <!-- &nbsp;&nbsp; -->

    <!-- <label for="">Exercise</label>
  <input
    *ngIf="this.exerciseForm.value.exerciseType"
    type="text"
    placeholder="Exercise"
    formControlName="exercise"
    required
    maxLength="10"
  /> -->

    <!-- &nbsp;&nbsp;Add Set -->
    <button type="button" (click)="addSet()" [disabled]="addSetButtonDisabled">
      Add Set
    </button>
  </div>
  <!-- <br /> -->
  <p *ngIf="exerciseForm.controls['exerciseType'].value === 'Dumbbell'">
    Selecting dumbbells will automatically calculate volume as if doing 1 rep
    with dumbbells in each hand. If only using 1 dumbbell, click "Only 1"
    checkbox to correctly reflect volume of single dumbbell
  </p>
  <!-- <br /> -->
  <div class="set-flex-wrapper">
    <div *ngFor="let s of setArray.controls; index as i">
      <span class="set-title">Set {{ i + 1 }}</span>
      <app-input
        [i]="i + 1"
        [exerType]="exerciseTypeToChild"
        [inputFormGroup]="$any(s)"
        (exerciseTotalVolume)="receiveSetVolume($event)"
      ></app-input>
      <button
        class="delete-button"
        (click)="removeSet(i)"
        *ngIf="i == lastToDelete"
      >
        Delete Set
      </button>
      <!-- <p>{{ i }}</p> -->
    </div>
  </div>
  <div class="current-total-volume" *ngIf="setAdded_activateTotalVolDisplay">
    Total Volume = {{ totalVolumeForExercise }}
  </div>
  <button type="submit">Save Progress</button>
  <button type="submit" (click)="closeExercise()">Done!</button>

  <div
    class="warning-text"
    *ngIf="
      exerciseForm.controls['setArray'].touched &&
      exerciseForm.controls['setArray'].invalid
    "
  >
    Hey beefcake! Only values less than 1500 lbs and less than 250 reps are
    accepted.
  </div>
  <div class="bottom-border"></div>

  <!-- Uncommenting below line for active view will cause giant error in console. Wont cause any breaking errors, just annoying -->
  <!-- <p>form group values: {{ exerciseForm.value | json }}</p> -->
  <!-- <div
    *ngIf="
      exerciseForm.controls['exerciseType'].touched &&
      exerciseForm.controls['exerciseType'].invalid
    "
  >
    Extype too long!
  </div>
  <div
    *ngIf="
      exerciseForm.controls['exercise'].touched &&
      exerciseForm.controls['exercise'].invalid
    "
  >
    Exercise name too long!
  </div> -->

  <!-- <button (click)="testSet()">TEST</button> -->
</form>
